(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{252:function(n,t,e){"use strict";e.r(t);var a={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},s=e(6),i=Object(s.a)(a,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.slotKey}},[e("p",[n._v("Als erstes alle benötigen Komponenten installieren (redmatic, TICK-Stack, grafana). Dann die Verbindung in redmatic zur ccu einrichten, Datenbank in influxdb einrichten, datasource in grafana einrichten.")]),n._v(" "),e("p",[n._v("Dann in redmatic influxdb adapter installieren: Burger-Menu, manage palette, dann"),e("br"),n._v(" "),e("img",{attrs:{src:"images/influx1.jpg",alt:""}})]),n._v(" "),e("p",[n._v("Dann den Flow anlegen"),e("br"),n._v(" "),e("img",{attrs:{src:"images/influx2.jpg",alt:""}})]),n._v(" "),e("p",[n._v('im rpc event Topic wie gewünscht anlegen, wenn gewünscht Filter einrichten, "emit only changed values" auswählen'),e("br"),n._v(" "),e("img",{attrs:{src:"images/influx3.jpg",alt:""}})]),n._v(" "),e("p",[n._v("Mit change node die in msg.topic enthaltenen Daten in msg.measurement umspeichern, da influxdb die Daten dort erwartet"),e("br"),n._v(" "),e("img",{attrs:{src:"images/influx4.jpg",alt:""}})]),n._v(" "),e("p",[n._v("Dann mit function-Node und folgendem Skript Leerzeichen escapen (Bug im influxdb-Connector, wenn der mal gefixt wird, erhält man evtl. doppelte \\, dann das Skript wieder löschen):")]),n._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[n._v("msg"),e("span",{attrs:{class:"token punctuation"}},[n._v(".")]),n._v("measurement "),e("span",{attrs:{class:"token operator"}},[n._v("=")]),n._v(" msg"),e("span",{attrs:{class:"token punctuation"}},[n._v(".")]),n._v("measurement"),e("span",{attrs:{class:"token punctuation"}},[n._v(".")]),e("span",{attrs:{class:"token function"}},[n._v("replace")]),e("span",{attrs:{class:"token punctuation"}},[n._v("(")]),e("span",{attrs:{class:"token regex"}},[n._v("/ /g")]),e("span",{attrs:{class:"token punctuation"}},[n._v(",")]),n._v(" "),e("span",{attrs:{class:"token string"}},[n._v("'\\\\ '")]),e("span",{attrs:{class:"token punctuation"}},[n._v(")")]),e("span",{attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n"),e("span",{attrs:{class:"token keyword"}},[n._v("return")]),n._v(" msg"),e("span",{attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br")])]),e("p",[n._v("Und dann ab in die Datenbank:"),e("br"),n._v(" "),e("img",{attrs:{src:"images/influx5.jpg",alt:""}})])])},[],!1,null,null,null);i.options.__file="Flow-Influx.md";t.default=i.exports}}]);
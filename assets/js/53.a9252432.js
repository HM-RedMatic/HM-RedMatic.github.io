(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{203:function(e,t,a){"use strict";a.r(t);var r={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},s=a(6),n=Object(s.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.slotKey}},[a("h1",{attrs:{id:"inhalt-einer-systemvariablen-uber-einfachen-webservice-bereitstellen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inhalt-einer-systemvariablen-uber-einfachen-webservice-bereitstellen","aria-hidden":"true"}},[e._v("#")]),e._v(" Inhalt einer Systemvariablen über einfachen Webservice bereitstellen")]),e._v(" "),a("p",[e._v('Dieses Beispiel ermöglicht es den Zustand der Systemvariable "Anwesenheit" via HTTP GET abzufragen.')]),e._v(" "),a("p",[a("img",{attrs:{src:"images/api1.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"ccu-sysvar-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ccu-sysvar-node","aria-hidden":"true"}},[e._v("#")]),e._v(" CCU Sysvar Node")]),e._v(" "),a("p",[a("img",{attrs:{src:"images/api2.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"function-change-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#function-change-node","aria-hidden":"true"}},[e._v("#")]),e._v(" Function Change Node")]),e._v(" "),a("p",[e._v("Der Change Node schreibt die Textdarstellung der Variable (wird vom Sysvar Node in der Property "),a("code",[e._v("valueEnum")]),e._v(" bereitgestellt) in den "),a("em",[e._v("Flow Context")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:"images/api3.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"input-http-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#input-http-node","aria-hidden":"true"}},[e._v("#")]),e._v(" Input HTTP Node")]),e._v(" "),a("p",[a("img",{attrs:{src:"images/api4.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"function-change-node-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#function-change-node-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Function Change Node")]),e._v(" "),a("p",[e._v("Dieser Change Node überträgt die zuvor im "),a("em",[e._v("Flow Context")]),e._v(" gespeicherte Variable in den "),a("code",[e._v("msg.payload")]),e._v(".")]),e._v(" "),a("p",[a("img",{attrs:{src:"images/api5.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"output-http-response-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#output-http-response-node","aria-hidden":"true"}},[e._v("#")]),e._v(" Output HTTP Response Node")]),e._v(" "),a("p",[e._v("Dieser Node beantwortet die HTTP Anfrage")]),e._v(" "),a("p",[a("img",{attrs:{src:"images/api6.png",alt:""}})]),e._v(" "),a("h3",{attrs:{id:"resultat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resultat","aria-hidden":"true"}},[e._v("#")]),e._v(" Resultat")]),e._v(" "),a("p",[e._v("Nun kann "),a("code",[e._v("http://<ccu-adresse>/addons/red/api/anwesenheit")]),e._v(" genutzt werden:")]),e._v(" "),a("p",[a("img",{attrs:{src:"images/api7.png",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"flow-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flow-json","aria-hidden":"true"}},[e._v("#")]),e._v(" Flow JSON")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('[{"id":"b5b2e0ba.c82a1","type":"http in","z":"6df6c880.17bdc8","name":"","url":"/api/anwesenheit","method":"get","upload":false,"swaggerDoc":"","x":160,"y":340,"wires":[["71e11ca6.dd7d44"]]},{"id":"3c7be0fe.9c89a","type":"http response","z":"6df6c880.17bdc8","name":"","statusCode":"200","headers":{},"x":480,"y":400,"wires":[]},{"id":"71e11ca6.dd7d44","type":"change","z":"6df6c880.17bdc8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"anwesenheit","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":420,"y":340,"wires":[["3c7be0fe.9c89a"]]},{"id":"c2ee148f.469068","type":"ccu-sysvar","z":"6df6c880.17bdc8","name":"Anwesenheit","ccuConfig":"38263145.35ea0e","topic":"ReGaHSS/${Name}","change":true,"cache":true,"x":210,"y":280,"wires":[["3d63cbe.aa0ca34"]]},{"id":"3d63cbe.aa0ca34","type":"change","z":"6df6c880.17bdc8","name":"","rules":[{"t":"set","p":"anwesenheit","pt":"flow","to":"valueEnum","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":440,"y":280,"wires":[[]]},{"id":"38263145.35ea0e","type":"ccu-connection","z":"","name":"localhost","host":"localhost","regaEnabled":true,"bcrfEnabled":true,"iprfEnabled":true,"virtEnabled":true,"bcwiEnabled":false,"cuxdEnabled":false,"regaPoll":true,"regaInterval":"30","rpcPingTimeout":"60","rpcInitAddress":"127.0.0.1","rpcServerHost":"127.0.0.1","rpcBinPort":"2047","rpcXmlPort":"2048"}]\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])])])},[],!1,null,null,null);n.options.__file="Flow-HTTP-Server.md";t.default=n.exports}}]);
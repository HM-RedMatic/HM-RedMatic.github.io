(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{245:function(t,a,e){"use strict";e.r(a);var s={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},n=e(6),r=Object(n.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.slotKey}},[e("h1",{attrs:{id:"anzahl-und-liste-offener-fenster-im-dashboard-anzeigen"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#anzahl-und-liste-offener-fenster-im-dashboard-anzeigen","aria-hidden":"true"}},[t._v("#")]),t._v(" Anzahl und Liste offener Fenster im Dashboard anzeigen")]),t._v(" "),e("p",[e("img",{attrs:{src:"images/window-1.png",alt:""}})]),t._v(" "),e("p",[t._v("Das Ergebnis dieses Flows im Dashboard:"),e("br"),t._v(" "),e("img",{attrs:{src:"images/window-7.png",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"ccu-rpc-event-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ccu-rpc-event-node","aria-hidden":"true"}},[t._v("#")]),t._v(" CCU RPC Event Node")]),t._v(" "),e("p",[t._v("Der RPC Event Node wird so konfiguriert, dass er alle Events von Geräten, in deren Kanal-Namen die Zeichenkette "),e("code",[t._v("Fenster")]),t._v(" vorkommt und bei denen eine Änderung des Wertes des "),e("code",[t._v("STATE")]),t._v(" Datenpunktes erfolgt ist ausgibt. Als Topic wird der Kanal-Name ("),e("code",[t._v("channelName")]),t._v(") ausgegeben, dies wird später verwendet um die Liste der offenen Fenster zu erzeugen.")]),t._v(" "),e("p",[e("img",{attrs:{src:"images/window-2.png",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"combine-statistic-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#combine-statistic-node","aria-hidden":"true"}},[t._v("#")]),t._v(" Combine Statistic Node")]),t._v(" "),e("p",[t._v("Der Statistic Node zählt die Anzahl offener Fenster und erzeugt ein Array in "),e("code",[t._v("msg.topics")]),t._v(" das die jeweiligen Kanal-Namen beinhaltet. Damit nur geöffnete Fenster gezählt werden muss die Option "),e("code",[t._v("Values")]),t._v(" auf "),e("code",[t._v("exclude falsy")]),t._v(" gesetzt werden.")]),t._v(" "),e("p",[e("img",{attrs:{src:"images/window-4.png",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"function-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#function-node","aria-hidden":"true"}},[t._v("#")]),t._v(" Function Node")]),t._v(" "),e("p",[t._v("Ein Function Node verbindet dass Array mit den Kanal-Namen der offenen Fenster zu einem Komma-getrennten String und entfernt die Zeichenkette "),e("code",[t._v("Fenster")]),t._v(" aus dieser Liste.")]),t._v(" "),e("p",[e("img",{attrs:{src:"images/window-5.png",alt:""}})]),t._v(" "),e("div",{staticClass:"language-javascript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("msg"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" msg"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("topics\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("join")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v("', '")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("replace")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token regex"}},[t._v("/Fenster /g")]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v("''")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n"),e("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" msg"),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h2",{attrs:{id:"dashboard-template-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-template-node","aria-hidden":"true"}},[t._v("#")]),t._v(" Dashboard Template Node")]),t._v(" "),e("p",[t._v("Zu guter Letzt wird ein Dashboard Template Node verwendet um die Anzahl und Liste der offenen Fenster anzuzeigen.")]),t._v(" "),e("p",[e("img",{attrs:{src:"images/window-6.png",alt:""}})]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),e("span",{attrs:{class:"token style-attr language-css"}},[e("span",{attrs:{class:"token attr-name"}},[t._v(" "),e("span",{attrs:{class:"token attr-name"}},[t._v("style")])]),e("span",{attrs:{class:"token punctuation"}},[t._v('="')]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token property"}},[t._v("font-weight")]),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bold")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),t._v(" "),e("span",{attrs:{class:"token attr-name"}},[t._v("ng-bind-html")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("msg.payload"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" offen\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{attrs:{class:"token attr-name"}},[t._v("ng-bind-html")]),e("span",{attrs:{class:"token attr-value"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("msg.list"),e("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h4",{attrs:{id:"flow-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flow-json","aria-hidden":"true"}},[t._v("#")]),t._v(" Flow JSON")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('[{"id":"345ac839.d19018","type":"ccu-rpc-event","z":"9480c9ac.fecc08","name":"Fenster","iface":"BidCos-RF","ccuConfig":"38263145.35ea0e","rooms":"","roomsRx":"str","functions":"","functionsRx":"str","device":"","deviceRx":"str","deviceName":"","deviceNameRx":"str","deviceType":"","deviceTypeRx":"str","channel":"","channelRx":"str","channelName":"Fenster","channelNameRx":"re","channelType":"","channelTypeRx":"str","channelIndex":"","channelIndexRx":"str","datapoint":"STATE","datapointRx":"str","change":true,"working":false,"cache":true,"topic":"${channelName}","x":110,"y":120,"wires":[["ff240e0a.23914"]]},{"id":"ff240e0a.23914","type":"combine-statistic","z":"9480c9ac.fecc08","name":"","topic":"","operator":"len","falsy":"exclude","defer":250,"timeout":0,"distinction":"topic","x":260,"y":120,"wires":[["d5ea20f9.24f5b"]]},{"id":"d5ea20f9.24f5b","type":"function","z":"9480c9ac.fecc08","name":"Liste formatieren","func":"msg.list = msg.topics\\n    .join(\', \')\\n    .replace(/Fenster /g, \'\');\\n    \\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":180,"wires":[["fea2bb6.3f7f348"]]},{"id":"fea2bb6.3f7f348","type":"ui_template","z":"9480c9ac.fecc08","group":"95141880.9f2268","name":"","order":0,"width":"6","height":"3","format":"<div style=\\"font-weight: bold\\">\\n  <span ng-bind-html=\\"msg.payload\\"></span> offen\\n</div>\\n<div ng-bind-html=\\"msg.list\\"></div>\\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":480,"y":180,"wires":[[]]},{"id":"38263145.35ea0e","type":"ccu-connection","z":"","name":"localhost","host":"localhost","regaEnabled":true,"bcrfEnabled":true,"iprfEnabled":true,"virtEnabled":false,"bcwiEnabled":true,"cuxdEnabled":false,"regaPoll":true,"regaInterval":"30","rpcPingTimeout":"60","rpcInitAddress":"127.0.0.1","rpcServerHost":"127.0.0.1","rpcBinPort":"2047","rpcXmlPort":"2048","queueTimeout":"5000","queuePause":"250","contextStore":"default"},{"id":"95141880.9f2268","type":"ui_group","z":"","name":"Fenster","tab":"daf804b4.907128","disp":true,"width":"6","collapse":false},{"id":"daf804b4.907128","type":"ui_tab","z":"","name":"Geräte","icon":"dashboard","order":1}]\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])])},[],!1,null,null,null);r.options.__file="Flow-Windows.md";a.default=r.exports}}]);
<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JSON Daten von Webservice abfragen und in Systemvariable schreiben | RedMatic</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.71957ad0.css" as="style"><link rel="preload" href="/assets/js/app.6e49cc76.js" as="script"><link rel="preload" href="/assets/js/2.c7572858.js" as="script"><link rel="preload" href="/assets/js/5.057cfdf0.js" as="script"><link rel="preload" href="/assets/js/52.6dc73916.js" as="script"><link rel="prefetch" href="/assets/js/10.370891fb.js"><link rel="prefetch" href="/assets/js/100.ebba27a8.js"><link rel="prefetch" href="/assets/js/101.26a83898.js"><link rel="prefetch" href="/assets/js/102.42d8b92e.js"><link rel="prefetch" href="/assets/js/103.acff4d0e.js"><link rel="prefetch" href="/assets/js/104.723e76ca.js"><link rel="prefetch" href="/assets/js/105.6800050d.js"><link rel="prefetch" href="/assets/js/106.dbedac07.js"><link rel="prefetch" href="/assets/js/107.433fb62b.js"><link rel="prefetch" href="/assets/js/108.086301df.js"><link rel="prefetch" href="/assets/js/109.cda762a8.js"><link rel="prefetch" href="/assets/js/11.15b86789.js"><link rel="prefetch" href="/assets/js/110.041c02ba.js"><link rel="prefetch" href="/assets/js/111.37b9fa07.js"><link rel="prefetch" href="/assets/js/12.0617ac04.js"><link rel="prefetch" href="/assets/js/13.457dffc3.js"><link rel="prefetch" href="/assets/js/14.b86c5f57.js"><link rel="prefetch" href="/assets/js/15.aa479949.js"><link rel="prefetch" href="/assets/js/16.862e88e9.js"><link rel="prefetch" href="/assets/js/17.ce310baa.js"><link rel="prefetch" href="/assets/js/18.8d10cbba.js"><link rel="prefetch" href="/assets/js/19.c7b5e7c6.js"><link rel="prefetch" href="/assets/js/20.4e0e1085.js"><link rel="prefetch" href="/assets/js/21.1a8d1e89.js"><link rel="prefetch" href="/assets/js/22.4f484a52.js"><link rel="prefetch" href="/assets/js/23.293e3163.js"><link rel="prefetch" href="/assets/js/24.5dcc5c56.js"><link rel="prefetch" href="/assets/js/25.12eec4f2.js"><link rel="prefetch" href="/assets/js/26.f6f4063c.js"><link rel="prefetch" href="/assets/js/27.a9ec623a.js"><link rel="prefetch" href="/assets/js/28.bacd5a42.js"><link rel="prefetch" href="/assets/js/29.7b465ef0.js"><link rel="prefetch" href="/assets/js/3.fefb63a3.js"><link rel="prefetch" href="/assets/js/30.ba3e19da.js"><link rel="prefetch" href="/assets/js/31.2e29fe01.js"><link rel="prefetch" href="/assets/js/32.c9a889aa.js"><link rel="prefetch" href="/assets/js/33.38b1cadd.js"><link rel="prefetch" href="/assets/js/34.5c14c4ec.js"><link rel="prefetch" href="/assets/js/35.26a3ac36.js"><link rel="prefetch" href="/assets/js/36.05eb203c.js"><link rel="prefetch" href="/assets/js/37.49fc2e1e.js"><link rel="prefetch" href="/assets/js/38.e1154847.js"><link rel="prefetch" href="/assets/js/39.ba4e1eb5.js"><link rel="prefetch" href="/assets/js/4.7dd2b66f.js"><link rel="prefetch" href="/assets/js/40.a6ff0e13.js"><link rel="prefetch" href="/assets/js/41.188ab24f.js"><link rel="prefetch" href="/assets/js/42.cd0cce71.js"><link rel="prefetch" href="/assets/js/43.9b32c780.js"><link rel="prefetch" href="/assets/js/44.6abc643c.js"><link rel="prefetch" href="/assets/js/45.58296594.js"><link rel="prefetch" href="/assets/js/46.bd201890.js"><link rel="prefetch" href="/assets/js/47.1bdfbf89.js"><link rel="prefetch" href="/assets/js/48.f40f39a2.js"><link rel="prefetch" href="/assets/js/49.badc649f.js"><link rel="prefetch" href="/assets/js/50.d19262d0.js"><link rel="prefetch" href="/assets/js/51.fc622255.js"><link rel="prefetch" href="/assets/js/53.a9252432.js"><link rel="prefetch" href="/assets/js/54.43bc18a2.js"><link rel="prefetch" href="/assets/js/55.72544862.js"><link rel="prefetch" href="/assets/js/56.5c2f9839.js"><link rel="prefetch" href="/assets/js/57.0a17e572.js"><link rel="prefetch" href="/assets/js/58.310da15d.js"><link rel="prefetch" href="/assets/js/59.51aa300a.js"><link rel="prefetch" href="/assets/js/6.0b7c5b87.js"><link rel="prefetch" href="/assets/js/60.e8c78387.js"><link rel="prefetch" href="/assets/js/61.9ceae67a.js"><link rel="prefetch" href="/assets/js/62.ad42bf79.js"><link rel="prefetch" href="/assets/js/63.75704d8a.js"><link rel="prefetch" href="/assets/js/64.365e5d3c.js"><link rel="prefetch" href="/assets/js/65.6187df17.js"><link rel="prefetch" href="/assets/js/66.50e9879f.js"><link rel="prefetch" href="/assets/js/67.bd7d0008.js"><link rel="prefetch" href="/assets/js/68.21130725.js"><link rel="prefetch" href="/assets/js/69.70826e4f.js"><link rel="prefetch" href="/assets/js/7.bbb2fc40.js"><link rel="prefetch" href="/assets/js/70.e821e255.js"><link rel="prefetch" href="/assets/js/71.43c46f7b.js"><link rel="prefetch" href="/assets/js/72.fdd9882c.js"><link rel="prefetch" href="/assets/js/73.b3f9cb62.js"><link rel="prefetch" href="/assets/js/74.8c03db03.js"><link rel="prefetch" href="/assets/js/75.865bc233.js"><link rel="prefetch" href="/assets/js/76.4240dba2.js"><link rel="prefetch" href="/assets/js/77.0c62181c.js"><link rel="prefetch" href="/assets/js/78.28d14982.js"><link rel="prefetch" href="/assets/js/79.30e51444.js"><link rel="prefetch" href="/assets/js/8.3453e2ab.js"><link rel="prefetch" href="/assets/js/80.42684a82.js"><link rel="prefetch" href="/assets/js/81.1f1adbaf.js"><link rel="prefetch" href="/assets/js/82.72ae0b05.js"><link rel="prefetch" href="/assets/js/83.837235c9.js"><link rel="prefetch" href="/assets/js/84.b59731e4.js"><link rel="prefetch" href="/assets/js/85.520a5a8b.js"><link rel="prefetch" href="/assets/js/86.35f47343.js"><link rel="prefetch" href="/assets/js/87.02ba76b1.js"><link rel="prefetch" href="/assets/js/88.cba15d62.js"><link rel="prefetch" href="/assets/js/89.0ed0aefa.js"><link rel="prefetch" href="/assets/js/9.2479c717.js"><link rel="prefetch" href="/assets/js/90.b115f6b8.js"><link rel="prefetch" href="/assets/js/91.e1db88dd.js"><link rel="prefetch" href="/assets/js/92.74b2dddb.js"><link rel="prefetch" href="/assets/js/93.50b54ff6.js"><link rel="prefetch" href="/assets/js/94.5566f075.js"><link rel="prefetch" href="/assets/js/95.3a14d155.js"><link rel="prefetch" href="/assets/js/96.4efd34cd.js"><link rel="prefetch" href="/assets/js/97.0f68cf98.js"><link rel="prefetch" href="/assets/js/98.8acd7862.js"><link rel="prefetch" href="/assets/js/99.2ffeeba3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.71957ad0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo-plain.png" alt="RedMatic" class="logo"> <span class="site-name can-hide">RedMatic</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doku/" class="nav-link">Doku</a></div><div class="nav-item"><a href="/nodes/" class="nav-link">Nodes</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">Wiki</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=77" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNDgyNDM2OTkyMDA2LWY1YjY0NTE0NmY0OWM3YWUzMzAzMTgxYmRjMTMyOWE3NjkxNDdlMDY5ZjlhYzM5Nzg2N2U2YjdmNzNlYWNhNTU" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/HM-RedMatic/RedMatic" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="theme-toggler" data-v-6649375f><a data-v-6649375f><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon" data-v-6649375f><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-v-6649375f></path></svg></a></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doku/" class="nav-link">Doku</a></div><div class="nav-item"><a href="/nodes/" class="nav-link">Nodes</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">Wiki</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=77" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNDgyNDM2OTkyMDA2LWY1YjY0NTE0NmY0OWM3YWUzMzAzMTgxYmRjMTMyOWE3NjkxNDdlMDY5ZjlhYzM5Nzg2N2U2YjdmNzNlYWNhNTU" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/HM-RedMatic/RedMatic" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Wiki</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Administration</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Beispiel Flows</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/wiki/Flow-Windows.html" class="sidebar-link">Anzahl und Liste offener Fenster im Dashboard anzeigen</a></li><li><a href="/wiki/Flow-Sysvar-Dashboard.html" class="sidebar-link">Anzeigen/Setzen von Systemvariablen im Dashboard</a></li><li><a href="/wiki/Flow-Offline-LED.html" class="sidebar-link">Blinken der CCU LED unterbinden</a></li><li><a href="/wiki/Flow-CPU-Usage.html" class="sidebar-link">CPU-Auslastung als Graph im Dashboard anzeigen</a></li><li><a href="/wiki/Flow-DutyCycle.html" class="sidebar-link">DutyCycle Graph im Dashboard</a></li><li><a href="/wiki/Flow-Hue.html" class="sidebar-link">Hue Lampen mit langem Tastendruck dimmen</a></li><li><a href="/wiki/Flow-HTTP-Server.html" class="sidebar-link">Inhalt einer Systemvariablen über einfachen Webservice bereitstellen</a></li><li><a href="/wiki/Flow-HTTP-Client.html" class="active sidebar-link">JSON Daten von Webservice abfragen</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/Flow-HTTP-Client.html#inject-node" class="sidebar-link">Inject Node</a></li><li class="sidebar-sub-header"><a href="/wiki/Flow-HTTP-Client.html#http-request-node" class="sidebar-link">HTTP Request Node</a></li><li class="sidebar-sub-header"><a href="/wiki/Flow-HTTP-Client.html#json-node" class="sidebar-link">JSON Node</a></li><li class="sidebar-sub-header"><a href="/wiki/Flow-HTTP-Client.html#change-node" class="sidebar-link">Change Node</a></li><li class="sidebar-sub-header"><a href="/wiki/Flow-HTTP-Client.html#ccu-sysvar-node" class="sidebar-link">CCU Sysvar Node</a></li></ul></li><li><a href="/wiki/Flow-MQTT.html" class="sidebar-link">MQTT</a></li><li><a href="/wiki/Flow-Window-Pushover.html" class="sidebar-link">Pushover Benachrichtigung wenn Fenster 10 Minuten offen</a></li><li><a href="/wiki/Flow-Sticky.html" class="sidebar-link">STICKY_UNREACH Meldungen bestätigen und zählen</a></li><li><a href="/wiki/Flow-Unreach.html" class="sidebar-link">UNREACH Servicemeldung unterdrücken</a></li><li><a href="/wiki/Flow-Wired-Dimmer.html" class="sidebar-link">Wired Dimmer mit RF Tasten steuern</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Erweiterungen</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Nutzung</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Sonstiges</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>User Flows</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Von Usern bereitgestellte Flows</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Weitere</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="json-daten-von-webservice-abfragen-und-in-systemvariable-schreiben"><a href="#json-daten-von-webservice-abfragen-und-in-systemvariable-schreiben" aria-hidden="true" class="header-anchor">#</a> JSON Daten von Webservice abfragen und in Systemvariable schreiben</h1> <p>Für dieses Beispiel wird ein Webservice verwendet der den aktuellen Wechselkurs des Bitcoin zurückgibt. Er eignet sich gut als Beispiel da er keinen API Key verlangt und das zurückgegebene JSON recht übersichtlich ist:</p> <p>URL des Webservice: <code>https://api.coindesk.com/v1/bpi/currentprice.json</code></p> <p>Beispiel Daten:</p> <div class="language-Javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token string">&quot;time&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;updated&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Aug 3, 2018 20:09:00 UTC&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;updatedISO&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;2018-08-03T20:09:00+00:00&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;updateduk&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Aug 3, 2018 at 21:09 BST&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string">&quot;disclaimer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;This data was produced from the CoinDesk Bitcoin Price Index (USD). Non-USD currency data converted using hourly conversion rate from openexchangerates.org&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;chartName&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Bitcoin&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;bpi&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;USD&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;USD&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;symbol&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&amp;#36;&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;rate&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;7,388.6163&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;United States Dollar&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;rate_float&quot;</span><span class="token punctuation">:</span> <span class="token number">7388.6163</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token string">&quot;GBP&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;GBP&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;symbol&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&amp;pound;&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;rate&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;5,683.2867&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;British Pound Sterling&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;rate_float&quot;</span><span class="token punctuation">:</span> <span class="token number">5683.2867</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token string">&quot;EUR&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;EUR&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;symbol&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&amp;euro;&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;rate&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;6,384.5550&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Euro&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;rate_float&quot;</span><span class="token punctuation">:</span> <span class="token number">6384.555</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><img src="images/btc1.png" alt=""></p> <h2 id="inject-node"><a href="#inject-node" aria-hidden="true" class="header-anchor">#</a> Inject Node</h2> <p>Ein Inject Node wird genutzt um alle 60 Minuten eine Message zu erzeugen die den Flow startet:</p> <p><img src="images/btc2.png" alt=""></p> <h2 id="http-request-node"><a href="#http-request-node" aria-hidden="true" class="header-anchor">#</a> HTTP Request Node</h2> <p>Der HTTP Request Node holt die Daten vom Webservice ab:</p> <p><img src="images/btc3.png" alt=""></p> <h2 id="json-node"><a href="#json-node" aria-hidden="true" class="header-anchor">#</a> JSON Node</h2> <p>Der JSON Node parsed die vom HTTP Request Node erhaltene Daten:</p> <p><img src="images/btc4.png" alt=""></p> <h2 id="change-node"><a href="#change-node" aria-hidden="true" class="header-anchor">#</a> Change Node</h2> <p>Der Change Node extrahiert die gewünschte Property (<code>rate_float</code>) in der der Euro Kurs als Number enthalten ist:</p> <p><img src="images/btc5.png" alt=""></p> <p>Hierfür wird der <a href="http://jsonata.org/" target="_blank" rel="noopener noreferrer">JSONata<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Ausdruck <code>msg.payload.bpi.EUR.rate_float</code> genutzt. Das JSON Objekt befindet sich (Node-RED üblich) in msg.payload, über die Punkt-Notation wird dann auf das gewünschte Unter-Objekt zugegriffen.</p> <h2 id="ccu-sysvar-node"><a href="#ccu-sysvar-node" aria-hidden="true" class="header-anchor">#</a> CCU Sysvar Node</h2> <p>Am Ende wird der Wert in eine Systemvariable geschrieben.</p> <p><img src="images/btc6.png" alt=""></p> <p><img src="images/btc7.png" alt=""></p> <h1 id="flow-json"><a href="#flow-json" aria-hidden="true" class="header-anchor">#</a> Flow JSON</h1> <div class="language- line-numbers-mode"><pre class="language-text"><code>[{&quot;id&quot;:&quot;65b68306.0b66ec&quot;,&quot;type&quot;:&quot;http request&quot;,&quot;z&quot;:&quot;4c052757.6ab828&quot;,&quot;name&quot;:&quot;http get api.coindesk.com&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;ret&quot;:&quot;txt&quot;,&quot;url&quot;:&quot;https://api.coindesk.com/v1/bpi/currentprice.json&quot;,&quot;tls&quot;:&quot;&quot;,&quot;x&quot;:390,&quot;y&quot;:220,&quot;wires&quot;:[[&quot;cd1a4c0c.0147c&quot;]]},{&quot;id&quot;:&quot;c30aecd5.90709&quot;,&quot;type&quot;:&quot;inject&quot;,&quot;z&quot;:&quot;4c052757.6ab828&quot;,&quot;name&quot;:&quot;&quot;,&quot;topic&quot;:&quot;alle 60 minuten&quot;,&quot;payload&quot;:&quot;&quot;,&quot;payloadType&quot;:&quot;str&quot;,&quot;repeat&quot;:&quot;3600&quot;,&quot;crontab&quot;:&quot;&quot;,&quot;once&quot;:true,&quot;onceDelay&quot;:&quot;5&quot;,&quot;x&quot;:130,&quot;y&quot;:220,&quot;wires&quot;:[[&quot;65b68306.0b66ec&quot;]]},{&quot;id&quot;:&quot;cd1a4c0c.0147c&quot;,&quot;type&quot;:&quot;json&quot;,&quot;z&quot;:&quot;4c052757.6ab828&quot;,&quot;name&quot;:&quot;JSON Parse&quot;,&quot;property&quot;:&quot;payload&quot;,&quot;action&quot;:&quot;&quot;,&quot;pretty&quot;:false,&quot;x&quot;:610,&quot;y&quot;:220,&quot;wires&quot;:[[&quot;744d138a.1f395c&quot;]]},{&quot;id&quot;:&quot;744d138a.1f395c&quot;,&quot;type&quot;:&quot;change&quot;,&quot;z&quot;:&quot;4c052757.6ab828&quot;,&quot;name&quot;:&quot;BTC EUR Kurs&quot;,&quot;rules&quot;:[{&quot;t&quot;:&quot;set&quot;,&quot;p&quot;:&quot;payload&quot;,&quot;pt&quot;:&quot;msg&quot;,&quot;to&quot;:&quot;msg.payload.bpi.EUR.rate_float&quot;,&quot;tot&quot;:&quot;jsonata&quot;}],&quot;action&quot;:&quot;&quot;,&quot;property&quot;:&quot;&quot;,&quot;from&quot;:&quot;&quot;,&quot;to&quot;:&quot;&quot;,&quot;reg&quot;:false,&quot;x&quot;:280,&quot;y&quot;:340,&quot;wires&quot;:[[&quot;911ee1f9.ccf3a&quot;]]},{&quot;id&quot;:&quot;911ee1f9.ccf3a&quot;,&quot;type&quot;:&quot;ccu-sysvar&quot;,&quot;z&quot;:&quot;4c052757.6ab828&quot;,&quot;name&quot;:&quot;Bitcoin&quot;,&quot;ccuConfig&quot;:&quot;38263145.35ea0e&quot;,&quot;topic&quot;:&quot;ReGaHSS/${Name}&quot;,&quot;change&quot;:true,&quot;cache&quot;:true,&quot;x&quot;:460,&quot;y&quot;:340,&quot;wires&quot;:[[]]},{&quot;id&quot;:&quot;c73c65fe.9c17c8&quot;,&quot;type&quot;:&quot;comment&quot;,&quot;z&quot;:&quot;4c052757.6ab828&quot;,&quot;name&quot;:&quot;Bitcoin Euro Wechselkurs abfragen und in Systemvariable schreiben&quot;,&quot;info&quot;:&quot;&quot;,&quot;x&quot;:340,&quot;y&quot;:120,&quot;wires&quot;:[]},{&quot;id&quot;:&quot;38263145.35ea0e&quot;,&quot;type&quot;:&quot;ccu-connection&quot;,&quot;z&quot;:&quot;&quot;,&quot;name&quot;:&quot;localhost&quot;,&quot;host&quot;:&quot;localhost&quot;,&quot;regaEnabled&quot;:true,&quot;bcrfEnabled&quot;:true,&quot;iprfEnabled&quot;:true,&quot;virtEnabled&quot;:true,&quot;bcwiEnabled&quot;:false,&quot;cuxdEnabled&quot;:false,&quot;regaPoll&quot;:true,&quot;regaInterval&quot;:&quot;30&quot;,&quot;rpcPingTimeout&quot;:&quot;60&quot;,&quot;rpcInitAddress&quot;:&quot;127.0.0.1&quot;,&quot;rpcServerHost&quot;:&quot;127.0.0.1&quot;,&quot;rpcBinPort&quot;:&quot;2047&quot;,&quot;rpcXmlPort&quot;:&quot;2048&quot;}]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <!----> <!----> </div></div><div class="global-ui"></div></div>
    <script src="/assets/js/2.c7572858.js" defer></script><script src="/assets/js/5.057cfdf0.js" defer></script><script src="/assets/js/52.6dc73916.js" defer></script><script src="/assets/js/app.6e49cc76.js" defer></script>
  </body>
</html>

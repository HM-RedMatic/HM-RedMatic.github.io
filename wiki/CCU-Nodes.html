<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CCU Nodes | RedMatic</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.71957ad0.css" as="style"><link rel="preload" href="/assets/js/app.6e49cc76.js" as="script"><link rel="preload" href="/assets/js/2.c7572858.js" as="script"><link rel="preload" href="/assets/js/5.057cfdf0.js" as="script"><link rel="preload" href="/assets/js/3.fefb63a3.js" as="script"><link rel="prefetch" href="/assets/js/10.370891fb.js"><link rel="prefetch" href="/assets/js/100.ebba27a8.js"><link rel="prefetch" href="/assets/js/101.26a83898.js"><link rel="prefetch" href="/assets/js/102.42d8b92e.js"><link rel="prefetch" href="/assets/js/103.acff4d0e.js"><link rel="prefetch" href="/assets/js/104.723e76ca.js"><link rel="prefetch" href="/assets/js/105.6800050d.js"><link rel="prefetch" href="/assets/js/106.dbedac07.js"><link rel="prefetch" href="/assets/js/107.433fb62b.js"><link rel="prefetch" href="/assets/js/108.086301df.js"><link rel="prefetch" href="/assets/js/109.cda762a8.js"><link rel="prefetch" href="/assets/js/11.15b86789.js"><link rel="prefetch" href="/assets/js/110.041c02ba.js"><link rel="prefetch" href="/assets/js/111.37b9fa07.js"><link rel="prefetch" href="/assets/js/12.0617ac04.js"><link rel="prefetch" href="/assets/js/13.457dffc3.js"><link rel="prefetch" href="/assets/js/14.b86c5f57.js"><link rel="prefetch" href="/assets/js/15.aa479949.js"><link rel="prefetch" href="/assets/js/16.862e88e9.js"><link rel="prefetch" href="/assets/js/17.ce310baa.js"><link rel="prefetch" href="/assets/js/18.8d10cbba.js"><link rel="prefetch" href="/assets/js/19.c7b5e7c6.js"><link rel="prefetch" href="/assets/js/20.4e0e1085.js"><link rel="prefetch" href="/assets/js/21.1a8d1e89.js"><link rel="prefetch" href="/assets/js/22.4f484a52.js"><link rel="prefetch" href="/assets/js/23.293e3163.js"><link rel="prefetch" href="/assets/js/24.5dcc5c56.js"><link rel="prefetch" href="/assets/js/25.12eec4f2.js"><link rel="prefetch" href="/assets/js/26.f6f4063c.js"><link rel="prefetch" href="/assets/js/27.a9ec623a.js"><link rel="prefetch" href="/assets/js/28.bacd5a42.js"><link rel="prefetch" href="/assets/js/29.7b465ef0.js"><link rel="prefetch" href="/assets/js/30.ba3e19da.js"><link rel="prefetch" href="/assets/js/31.2e29fe01.js"><link rel="prefetch" href="/assets/js/32.c9a889aa.js"><link rel="prefetch" href="/assets/js/33.38b1cadd.js"><link rel="prefetch" href="/assets/js/34.5c14c4ec.js"><link rel="prefetch" href="/assets/js/35.26a3ac36.js"><link rel="prefetch" href="/assets/js/36.05eb203c.js"><link rel="prefetch" href="/assets/js/37.49fc2e1e.js"><link rel="prefetch" href="/assets/js/38.e1154847.js"><link rel="prefetch" href="/assets/js/39.ba4e1eb5.js"><link rel="prefetch" href="/assets/js/4.7dd2b66f.js"><link rel="prefetch" href="/assets/js/40.a6ff0e13.js"><link rel="prefetch" href="/assets/js/41.188ab24f.js"><link rel="prefetch" href="/assets/js/42.cd0cce71.js"><link rel="prefetch" href="/assets/js/43.9b32c780.js"><link rel="prefetch" href="/assets/js/44.6abc643c.js"><link rel="prefetch" href="/assets/js/45.58296594.js"><link rel="prefetch" href="/assets/js/46.bd201890.js"><link rel="prefetch" href="/assets/js/47.1bdfbf89.js"><link rel="prefetch" href="/assets/js/48.f40f39a2.js"><link rel="prefetch" href="/assets/js/49.badc649f.js"><link rel="prefetch" href="/assets/js/50.d19262d0.js"><link rel="prefetch" href="/assets/js/51.fc622255.js"><link rel="prefetch" href="/assets/js/52.6dc73916.js"><link rel="prefetch" href="/assets/js/53.a9252432.js"><link rel="prefetch" href="/assets/js/54.43bc18a2.js"><link rel="prefetch" href="/assets/js/55.72544862.js"><link rel="prefetch" href="/assets/js/56.5c2f9839.js"><link rel="prefetch" href="/assets/js/57.0a17e572.js"><link rel="prefetch" href="/assets/js/58.310da15d.js"><link rel="prefetch" href="/assets/js/59.51aa300a.js"><link rel="prefetch" href="/assets/js/6.0b7c5b87.js"><link rel="prefetch" href="/assets/js/60.e8c78387.js"><link rel="prefetch" href="/assets/js/61.9ceae67a.js"><link rel="prefetch" href="/assets/js/62.ad42bf79.js"><link rel="prefetch" href="/assets/js/63.75704d8a.js"><link rel="prefetch" href="/assets/js/64.365e5d3c.js"><link rel="prefetch" href="/assets/js/65.6187df17.js"><link rel="prefetch" href="/assets/js/66.50e9879f.js"><link rel="prefetch" href="/assets/js/67.bd7d0008.js"><link rel="prefetch" href="/assets/js/68.21130725.js"><link rel="prefetch" href="/assets/js/69.70826e4f.js"><link rel="prefetch" href="/assets/js/7.bbb2fc40.js"><link rel="prefetch" href="/assets/js/70.e821e255.js"><link rel="prefetch" href="/assets/js/71.43c46f7b.js"><link rel="prefetch" href="/assets/js/72.fdd9882c.js"><link rel="prefetch" href="/assets/js/73.b3f9cb62.js"><link rel="prefetch" href="/assets/js/74.8c03db03.js"><link rel="prefetch" href="/assets/js/75.865bc233.js"><link rel="prefetch" href="/assets/js/76.4240dba2.js"><link rel="prefetch" href="/assets/js/77.0c62181c.js"><link rel="prefetch" href="/assets/js/78.28d14982.js"><link rel="prefetch" href="/assets/js/79.30e51444.js"><link rel="prefetch" href="/assets/js/8.3453e2ab.js"><link rel="prefetch" href="/assets/js/80.42684a82.js"><link rel="prefetch" href="/assets/js/81.1f1adbaf.js"><link rel="prefetch" href="/assets/js/82.72ae0b05.js"><link rel="prefetch" href="/assets/js/83.837235c9.js"><link rel="prefetch" href="/assets/js/84.b59731e4.js"><link rel="prefetch" href="/assets/js/85.520a5a8b.js"><link rel="prefetch" href="/assets/js/86.35f47343.js"><link rel="prefetch" href="/assets/js/87.02ba76b1.js"><link rel="prefetch" href="/assets/js/88.cba15d62.js"><link rel="prefetch" href="/assets/js/89.0ed0aefa.js"><link rel="prefetch" href="/assets/js/9.2479c717.js"><link rel="prefetch" href="/assets/js/90.b115f6b8.js"><link rel="prefetch" href="/assets/js/91.e1db88dd.js"><link rel="prefetch" href="/assets/js/92.74b2dddb.js"><link rel="prefetch" href="/assets/js/93.50b54ff6.js"><link rel="prefetch" href="/assets/js/94.5566f075.js"><link rel="prefetch" href="/assets/js/95.3a14d155.js"><link rel="prefetch" href="/assets/js/96.4efd34cd.js"><link rel="prefetch" href="/assets/js/97.0f68cf98.js"><link rel="prefetch" href="/assets/js/98.8acd7862.js"><link rel="prefetch" href="/assets/js/99.2ffeeba3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.71957ad0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo-plain.png" alt="RedMatic" class="logo"> <span class="site-name can-hide">RedMatic</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doku/" class="nav-link">Doku</a></div><div class="nav-item"><a href="/nodes/" class="nav-link">Nodes</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">Wiki</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=77" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNDgyNDM2OTkyMDA2LWY1YjY0NTE0NmY0OWM3YWUzMzAzMTgxYmRjMTMyOWE3NjkxNDdlMDY5ZjlhYzM5Nzg2N2U2YjdmNzNlYWNhNTU" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/HM-RedMatic/RedMatic" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="theme-toggler" data-v-6649375f><a data-v-6649375f><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon" data-v-6649375f><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-v-6649375f></path></svg></a></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doku/" class="nav-link">Doku</a></div><div class="nav-item"><a href="/nodes/" class="nav-link">Nodes</a></div><div class="nav-item"><a href="/wiki/" class="nav-link router-link-active">Wiki</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://homematic-forum.de/forum/viewforum.php?f=77" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.facebook.com/groups/Homematic.Freunde" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Facebook Gruppe
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://join.slack.com/t/homematicuser/shared_invite/enQtNDgyNDM2OTkyMDA2LWY1YjY0NTE0NmY0OWM3YWUzMzAzMTgxYmRjMTMyOWE3NjkxNDdlMDY5ZjlhYzM5Nzg2N2U2YjdmNzNlYWNhNTU" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/HM-RedMatic/RedMatic" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Wiki</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Administration</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Beispiel Flows</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Erweiterungen</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Nutzung</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/wiki/CCU-Nodes.html" class="active sidebar-link">CCU Nodes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#ccu-value-node" class="sidebar-link">ccu value node</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#output-2" class="sidebar-link">Output</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#attribute-3" class="sidebar-link">Attribute</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#input-2" class="sidebar-link">Input</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#output-3" class="sidebar-link">Output</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#attribute-4" class="sidebar-link">Attribute</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#attribute-5" class="sidebar-link">Attribute</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#konfiguration-durch-msg" class="sidebar-link">Konfiguration durch msg</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#input-3" class="sidebar-link">Input</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#output-4" class="sidebar-link">Output</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#attribute-6" class="sidebar-link">Attribute</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#attribute-7" class="sidebar-link">Attribute</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#attribute-8" class="sidebar-link">Attribute</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#attribute-9" class="sidebar-link">Attribute</a></li><li class="sidebar-sub-header"><a href="/wiki/CCU-Nodes.html#topic-6" class="sidebar-link">topic</a></li></ul></li><li><a href="/wiki/Flow-Export.html" class="sidebar-link">Flows Exportieren</a></li><li><a href="/wiki/Flow-Import.html" class="sidebar-link">Flows Importieren</a></li><li><a href="/wiki/Node-RED.html" class="sidebar-link">Node-RED Grundlagen</a></li><li><a href="/wiki/Tipps.html" class="sidebar-link">Tipps</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Sonstiges</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>User Flows</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Von Usern bereitgestellte Flows</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Weitere</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content default"><h1 id="ccu-nodes"><a href="#ccu-nodes" aria-hidden="true" class="header-anchor">#</a> CCU Nodes</h1> <ul><li><a href="#ccu-connection-node">connection</a></li> <li><a href="#ccu-value-node">value</a></li> <li><a href="#ccu-rpc-event-node">rpc event</a></li> <li><a href="#ccu-set-value-node">set value</a></li> <li><a href="#ccu-rpc-node">rpc</a></li> <li><a href="#ccu-signal-node">signal</a></li> <li><a href="#ccu-display-node">display</a></li> <li><a href="#ccu-sysvar-node">sysvar</a></li> <li><a href="#ccu-program-node">program</a></li> <li><a href="#ccu-script-node">script</a></li> <li><a href="#ccu-switch-node">switch</a></li> <li><a href="#ccu-get-value-node">get value</a></li> <li><a href="#ccu-poll-node">poll</a></li></ul> <p> </p> <h1 id="ccu-connection-node"><a href="#ccu-connection-node" aria-hidden="true" class="header-anchor">#</a> ccu connection node</h1> <p>Im <em>Connection Node</em> wird die Verbindung zu den CCU Schnittstellenprozessen und zur Logikschicht verwaltet. Der <em>Connection Node</em> ist ein sogenannter <em>Configuration Node</em>, ist nicht in der <em>Palette</em> sichtbar und kann nicht in einem <em>Flow</em> platziert werden. Seine Konfiguration ist im Menü unter Configuration Nodes erreichbar:</p> <p><img src="images/ccu-config.mov.gif" alt=""></p> <h3 id="attribute"><a href="#attribute" aria-hidden="true" class="header-anchor">#</a> Attribute</h3> <h4 id="ccu-name"><a href="#ccu-name" aria-hidden="true" class="header-anchor">#</a> CCU Name</h4> <p>Frei wählbarer Name für die aktuelle CCU-Konfiguration.<br>
Er dient zur Unterscheidung falls mehrere CCUs an RedMatic angebunden werden und erscheint in allen anderen CCU Nodes.</p> <h4 id="ccu-address"><a href="#ccu-address" aria-hidden="true" class="header-anchor">#</a> CCU Address</h4> <p>Die IP-Adresse oder der Hostname der CCU.<br>
Wird RedMatic als CCU-Addon installiert, läuft es auf dem selben Device weshalb
die Loopback-Adresse <code>localhost</code> bzw. <code>127.0.0.1</code> gewählt werden kann.</p> <h4 id="listen-address"><a href="#listen-address" aria-hidden="true" class="header-anchor">#</a> Listen Address</h4> <p>Die IP-Adresse des Netzwerk-Interfaces auf welchem die RedMatic RPC Server &quot;lauschen&quot; sollen.<br>
Läuft RedMatic auf der CCU wird hier ebenfalls <code>localhost</code> bzw. <code>127.0.0.1</code> verwendet.<br>
Um auf allen Interfaces zu lauschen kann <code>0.0.0.0</code> verwendet werden.</p> <h4 id="init-address"><a href="#init-address" aria-hidden="true" class="header-anchor">#</a> Init Address</h4> <p>Die Init-Adresse wird den CCU-Schnittstellenprozessen für RPC-Callbacks mitgeilt. Läuft RedMatic auf der CCU ist
ebenfalls <code>localhost</code> bzw. <code>127.0.0.1</code> zu verwenden.</p> <h3 id="bin-rpc-port"><a href="#bin-rpc-port" aria-hidden="true" class="header-anchor">#</a> BIN-RPC Port</h3> <p>Der Port des RedMatic BIN-RPC Dienstes an den die CCU Events schickt.
Werden Verbindungen zu mehreren CCUs hergestellt (mehrere ccu-configuration Node Instanzen)
braucht jede Verbindung einen exklusiven Port.</p> <h4 id="xml-rpc-port"><a href="#xml-rpc-port" aria-hidden="true" class="header-anchor">#</a> XML-RPC Port</h4> <p>Der Port des RedMatic XML-RPC Dienstes an den die CCU Events schickt.
Werden Verbindungen zu mehreren CCUs hergestellt braucht jede Verbindung einen exklusiven Port.</p> <h4 id="interfaces"><a href="#interfaces" aria-hidden="true" class="header-anchor">#</a> Interfaces</h4> <p>Hier können die zu verwendenden Schnittstellen angegeben werden.
Nutzt man Beispielsweise keinen CUxD oder HmIP Geräte, kann der Haken entfernt werden
was die entsprechenden ungenutzten Komponenten deaktiviert.</p> <ul><li>ReGaHSS: Die Logikschicht der CCU, verwaltet CCU-Programme und CCU-Systemvariablen</li> <li>BidCos-RF: Homematic Funk</li> <li>BidCos-Wired: Homematic Wired</li> <li>HmIP-RF: Homematic-IP Funk</li> <li>VirtualDevices: Heizungsgruppen, in CCU eingebundene Systeme wie Osram Lightify</li> <li>CUxD</li></ul> <h4 id="rpc-ping-timeout"><a href="#rpc-ping-timeout" aria-hidden="true" class="header-anchor">#</a> RPC Ping-Timeout</h4> <p>Zeitinterval in Sekunden in dem die Verbindung zu den Schnittstellenprozessen geprüft wird.</p> <h4 id="regahss-polling"><a href="#regahss-polling" aria-hidden="true" class="header-anchor">#</a> ReGaHSS Polling</h4> <p>Änderungen von CCU-Systemvariablen werden nicht automatisch an RedMatic übermittelt.
Mit aktiviertem Polling fragt RedMatic die Variablen und deren Werte in den per
Poll-Interval eingestellten Zeitintervallen ab.</p> <h4 id="regahss-poll-interval"><a href="#regahss-poll-interval" aria-hidden="true" class="header-anchor">#</a> ReGaHSS Poll-Interval</h4> <p>Das Zeitintervall in Sekunden um die Systemvariablen von der CCU zu lesen.</p> <h4 id="context-store"><a href="#context-store" aria-hidden="true" class="header-anchor">#</a> Context-Store</h4> <p>Hier wird der Node-RED Context-Store festgelegt in dem RedMatic die Zustände aller Geräte/Variablen vorhält.</p> <p>Weiteres unter <a href="https://nodered.org/docs/user-guide/context" target="_blank" rel="noopener noreferrer">Working with context<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in der Node-RED Dokumentation.</p> <h2 id="ccu-value-node"><a href="#ccu-value-node" aria-hidden="true" class="header-anchor">#</a> ccu value node</h2> <p>Geräte steuern und/oder Events von einem Gerät empfangen.</p> <h3 id="attribute-2"><a href="#attribute-2" aria-hidden="true" class="header-anchor">#</a> Attribute</h3> <h4 id="ccu"><a href="#ccu" aria-hidden="true" class="header-anchor">#</a> CCU</h4> <p>Die zu verwendende CCU-Konfiguration.</p> <h4 id="topic"><a href="#topic" aria-hidden="true" class="header-anchor">#</a> Topic</h4> <p>Das Topic ist an <a href="https://de.wikipedia.org/wiki/MQTT" target="_blank" rel="noopener noreferrer">MQTT<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> angelehnt und dient zu späteren
Identifizierung des Werts.</p> <h4 id="interface"><a href="#interface" aria-hidden="true" class="header-anchor">#</a> Interface</h4> <p>Hier wird das Interface gewählt, welches den gewünschten Datenpunkt enthält.</p> <h4 id="channel"><a href="#channel" aria-hidden="true" class="header-anchor">#</a> Channel</h4> <p>Der Kanal dessen Datenpunkte verwendet werden solln.
Er besteht aus der Serien- sowie der Kanalnummer.
Eine Autovervollständigung hilft bei der Auswahl anhand der Klarnamen.</p> <h4 id="datapoint"><a href="#datapoint" aria-hidden="true" class="header-anchor">#</a> Datapoint</h4> <p>Der Datenpunkt des Kanals, auch hier wird über eine Autovervollständigung die Auswahl vereinfacht.</p> <h4 id="on-time"><a href="#on-time" aria-hidden="true" class="header-anchor">#</a> ON_TIME</h4> <p>Zeit in Sekunden nach der ein Schaltaktor/Dimmer nach dem anschalten wieder ausgeschaltet werden soll.</p> <p>Dabei ist:</p> <ul><li><code>undefined</code>: Keine automatische Ausschaltung</li> <li><code>number</code>: Eine feste Verzögerung in Sekunden</li> <li><code>global</code>, <code>flow</code>: Eine Verzögerung aus einer Context-Variablen</li> <li><code>msg</code>: Eine Verzögerung aus einem <code>msg</code>-Property.</li></ul> <h4 id="set-mode"><a href="#set-mode" aria-hidden="true" class="header-anchor">#</a> set Mode</h4> <p>Eine Erweiterung für Geräte, die sowohl den rx_mode BURST als auch
WAKEUP unterstützen wie z.B.: Batterie-Schaltaktoren oder Rauchmelder mit Sirenenfunktion.
Mit dem Parameter kann in diesem Fall angegeben werden,
ob der übergebene Wert über BURST oder WAKEUP übertragen werden soll.</p> <ul><li>WAKEUP: Überträgt den Wert sobald der entsprechende Empfänger aufacht.</li> <li>BURST: Versucht alle BURST-Empfänger für die Übertragung aufzuwecken was sich
negativ auf den DutyCycle und die Batterielaufzeit aller Burst-Empfänger auswirkt.</li></ul> <h4 id="flags"><a href="#flags" aria-hidden="true" class="header-anchor">#</a> Flags</h4> <ul><li><p><em><strong>Nur geänderte Werte ausgeben</strong></em>
Ein Event wird nur dann erzeugt, wenn sich der Wert seit dem letztn Event verändert hat.</p></li> <li><p><em><strong>Während WORKING keine Werte ausgeben</strong></em>
Es gibt Aktoren, z.B. Dimmer oder Rolladen, die  während einer Rampe (Öffnen/Schließen eines Rollladen, Dimmen einer Lampe)
fortwährend den aktuellen Zustand ausgeben. Um nur den End-Status auszugeben kann diese Option benutzt werden.
Gebräuchlich auch bei Verwendung mit Dashboard-Nodes um &quot;springende&quot; Slider zu verhindern.</p></li> <li><p><em><strong>Beim Start letzten bekannten Wert ausgeben</strong></em>
Wenn Node-RED gestartet wird, dann wird der letzte Wert (sofern in der ReGaHSS bekannt) ausgegeben.
Z.B. um beim Start einen korrekten Wert an das Dashboard zu übergeben.
<strong>Achtung</strong>: Wird durch die ausgegebene Nachricht im weiteren Verlauf des Flows ein Homematic Wert gesetzt wirkt sich
jedes (Full-)Deployment negativ auf den DutyCycle aus.</p></li></ul> <h4 id="name"><a href="#name" aria-hidden="true" class="header-anchor">#</a> Name</h4> <p>Der Name dient zur Beschriftung des Node im Flow.</p> <h3 id="input"><a href="#input" aria-hidden="true" class="header-anchor">#</a> Input</h3> <p>Für den Input des Value Node wird <code>msg.payload</code> als der Wert verwendet der in den Datenpunkt geschrieben wird.</p> <p>Die Bestimmung des Datenpunkts sowie des Kanals und der Schnittstellen können hier dynamisch
sein. Dazu werden die entsprechenden Node-Attribute leer gelassen und über <code>msg</code> gesetzt.</p> <p><strong>Option 1:</strong>
Interface, Channel und Datapoint können in der <code>msg</code> als Properties angegeben werden:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;interface&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BidCos-RF&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;channel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OEQ1868878:1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;datapoint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;STATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;payload&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>Option 2:</strong>
Der Datenpunkt kann über <code>msg.topic</code> angegeben werden wobei die Werte mit Punkt getrennt werden:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;topic&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BidCos-RF.OEQ1868878:1.STATE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;payload&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="output"><a href="#output" aria-hidden="true" class="header-anchor">#</a> Output</h3> <p>Der Value Node gibt nur Events aus, wenn Interface, Channel und Datapoint gesetzt sind.</p> <h1 id="ccu-rpc-event-node"><a href="#ccu-rpc-event-node" aria-hidden="true" class="header-anchor">#</a> ccu rpc event node</h1> <p>Der <code>rpc event</code> Node erzeugt eine Nachricht, wenn ein Event von der CCU empfangen wird. Im Gegensatz zum <a href="#ccu-value-node">value node</a>, welcher nur auf einen spezifischen Datepunkt reagiert, wird der <code>rpc event</code> Node bei allen CCU-Events getriggert.</p> <p>Um eine Nachricht nur bei bestimmten Events zu erzeugen verfügt er über diverse Filtermöglichkeiten. Die meisten Filter können explizit gesetzt werden z.B. <code>Arbeitszimmer Taster AN</code> oder gegen einen <a href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer">regulären Ausdruck<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> geprüft werden. Ein Beispiel für ein RegEx Pattern das auf alle <em>Taster</em> zutrifft wäre <code>.*Taster.*</code>. Um zwischen explizit (String) und RegEx zu wählen wird das DropDown neben der Werteingabe verwendet.</p> <h2 id="output-2"><a href="#output-2" aria-hidden="true" class="header-anchor">#</a> Output</h2> <p>Die <code>msg</code> enthält diverse Informationen über das RPC wie <code>topic</code>, <code>function</code>, <code>deviceName</code> und viele weitere. Die <code>payload</code> ist die <code>value</code>, also der Wert oder auch Zustand des Datenpunkts des zugehörigen Events. Beispiel <code>20.4</code> für <code>ACTUAL_TEMPERATURE</code> eines Heizkörperthermostats.</p> <h2 id="attribute-3"><a href="#attribute-3" aria-hidden="true" class="header-anchor">#</a> Attribute</h2> <h3 id="ccu-2"><a href="#ccu-2" aria-hidden="true" class="header-anchor">#</a> CCU</h3> <p>Die zu verwendende CCU-Konfiguration.</p> <h3 id="topic-2"><a href="#topic-2" aria-hidden="true" class="header-anchor">#</a> Topic</h3> <p>Das Topic ist an <a href="https://de.wikipedia.org/wiki/MQTT" target="_blank" rel="noopener noreferrer">MQTT<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> angelehnt und kann zur späteren
Identifizierung des Werts verwendet werden.</p> <h3 id="interface-2"><a href="#interface-2" aria-hidden="true" class="header-anchor">#</a> Interface</h3> <p>Hier wird das Interface gewählt, welches den Event erzeugt hat.</p> <h3 id="room"><a href="#room" aria-hidden="true" class="header-anchor">#</a> Room</h3> <p>Raum Filter. Beispiel: <code>Wohnzimmer</code>.</p> <h3 id="function"><a href="#function" aria-hidden="true" class="header-anchor">#</a> Function</h3> <p>Funktion oder auch Gewerk Filter. Beispiel: <code>Taster</code></p> <h3 id="device"><a href="#device" aria-hidden="true" class="header-anchor">#</a> Device</h3> <p>Die Seriennummer der Homematic Komponente. Beispiel: <code>OEQ1662328</code></p> <h3 id="devicename"><a href="#devicename" aria-hidden="true" class="header-anchor">#</a> DeviceName</h3> <p>Der in der CCU vergebene Name der Homematic Komponente. Beispiel: <code>Rauchmelder Arbeitszimmer</code>;
alle Rauchemelder über RegEx: <code>Rauchmelder .*</code></p> <h3 id="devicetype"><a href="#devicetype" aria-hidden="true" class="header-anchor">#</a> DeviceType</h3> <p>Die Typen-Bezeichnung der Homematic Komponente. Beispiel: <code>HM-Sec-SD-2</code></p> <h3 id="channel-2"><a href="#channel-2" aria-hidden="true" class="header-anchor">#</a> Channel</h3> <p>Der exakte Kanal bestehend aus Serien- und Kanalnummer. Beispiel: <code>OEQ1245312:4</code></p> <h3 id="channelname"><a href="#channelname" aria-hidden="true" class="header-anchor">#</a> ChannelName</h3> <p>Der in der CCU vergebene Kanalname. Beispiel: <code>Bad Lichte Decke PIR</code></p> <h3 id="channeltype"><a href="#channeltype" aria-hidden="true" class="header-anchor">#</a> ChannelType</h3> <p>Der Typ des Kanals. Beispiel: <code>VIRTUAL_KEY</code> oder <code>DIMMER</code></p> <h3 id="datapoint-2"><a href="#datapoint-2" aria-hidden="true" class="header-anchor">#</a> Datapoint</h3> <p>Der Datenpunkt des Kanals. Beispiel: <code>PRESS_SHORT</code> oder <code>ACTUAL_TEMPERATURE</code>.</p> <h3 id="flags-2"><a href="#flags-2" aria-hidden="true" class="header-anchor">#</a> Flags</h3> <ul><li><p><em><strong>Nur geänderte Werte ausgeben</strong></em><br>
Ein Event wird nur dann erzeugt, wenn sich der Wert seit dem letztn Event verändert hat.</p></li> <li><p><em><strong>Während WORKING keine Werte ausgeben</strong></em><br>
Es gibt Aktoren, z.B. Dimmer oder Rolladen, die während einer laufenden Aktion (Öffnen/Schließen eines Rollladen, Dimmen einer Lampe)
wiederholt den aktuellen Zustand ausgeben. Um nur den End-Status auszugeben kann diese Option benutzt werden.<br>
Gebräuchlich auch bei Verwendung mit Dashboard-Nodes um &quot;springende&quot; Slider zu verhindern.</p></li> <li><p><em><strong>Beim Start letzten bekannten Wert ausgeben</strong></em><br>
Wenn Node-RED gestartet wird, dann wird der letzte Wert (sofern in der ReGaHSS bekannt) ausgegeben.<br>
Z.B. um beim Start einen korrekten Wert an das Dashboard zu übergeben.<br> <strong>Achtung</strong>: Wird durch die ausgegebene Nachricht im weiteren Verlauf des Flows ein Homematic Wert gesetzt wirkt sich jedes (Full-)Deployment negativ auf den DutyCycle aus.</p></li></ul> <h3 id="name-2"><a href="#name-2" aria-hidden="true" class="header-anchor">#</a> Name</h3> <p>Der Name dient zur Beschriftung des Node im Flow.</p> <h1 id="ccu-rpc-node"><a href="#ccu-rpc-node" aria-hidden="true" class="header-anchor">#</a> ccu rpc node</h1> <p>Beliebige RPC Methoden auf Schnittstellenprozess aufrufen und deren Rückgabe ausgeben.</p> <p>Siehe <a href="https://www.eq-3.de/Downloads/eq3/download%20bereich/hm_web_ui_doku/HM_XmlRpc_API.pdf" target="_blank" rel="noopener noreferrer">XMLRPC API Dokumentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="input-2"><a href="#input-2" aria-hidden="true" class="header-anchor">#</a> Input</h2> <p>Ein <code>msg</code> Objekt mit optionaler <code>method</code> und <code>payload</code>.<br>
Werden nur beachtet, wenn Method und Params in der Node Konfiguration
leer gelassen werden.</p> <h2 id="output-3"><a href="#output-3" aria-hidden="true" class="header-anchor">#</a> Output</h2> <p><code>msg.payload</code> enthält den Rückgabewert des Methodenaufrufs.</p> <h2 id="attribute-4"><a href="#attribute-4" aria-hidden="true" class="header-anchor">#</a> Attribute</h2> <h3 id="ccu-3"><a href="#ccu-3" aria-hidden="true" class="header-anchor">#</a> CCU</h3> <p>Die zu verwendende CCU-Konfiguration.</p> <h3 id="topic-3"><a href="#topic-3" aria-hidden="true" class="header-anchor">#</a> Topic</h3> <p>Das MQTT Topic das im Output gesetzt wird.</p> <h3 id="interface-3"><a href="#interface-3" aria-hidden="true" class="header-anchor">#</a> Interface</h3> <p>Das Interface auf dem die Methode aufgerufen werden soll.</p> <h3 id="method"><a href="#method" aria-hidden="true" class="header-anchor">#</a> Method</h3> <p>Die Methode die aufgerufen werden soll.<br>
Wird die Methode leer gelassen, kann sie über <code>msg.method</code> im Input gesetzt werden.</p> <h3 id="params"><a href="#params" aria-hidden="true" class="header-anchor">#</a> Params</h3> <p>Die Parameter die der RPC Methode übergeben werden.<br>
Es muss ein Array im JSON-Format angegeben werden.</p> <p>Werden die Params leer gelassen, können sie über <code>msg.payload</code> im Input übergeben werden.<br>
Hier kann auch direkt ein Array übergeben werden.</p> <h3 id="name-3"><a href="#name-3" aria-hidden="true" class="header-anchor">#</a> Name</h3> <p>Der Name dient zur Beschriftung des Node im Flow.</p> <h1 id="ccu-signal-node"><a href="#ccu-signal-node" aria-hidden="true" class="header-anchor">#</a> ccu signal node</h1> <p>Ansteuerung von Funk-Gongs (HM-OU-CFM-*, HM-OU-CM-PCB).</p> <h1 id="ccu-display-node"><a href="#ccu-display-node" aria-hidden="true" class="header-anchor">#</a> ccu display node</h1> <p>Ansteuerung von Displays (HM-PB-4Dis-WM, HM-Dis-EP-WM55).</p> <h2 id="attribute-5"><a href="#attribute-5" aria-hidden="true" class="header-anchor">#</a> Attribute</h2> <h3 id="ccu-4"><a href="#ccu-4" aria-hidden="true" class="header-anchor">#</a> CCU</h3> <p>Unter CCU wird die zu verwendende CCU-Konfiguration angegeben.</p> <h3 id="channel-3"><a href="#channel-3" aria-hidden="true" class="header-anchor">#</a> Channel</h3> <p>Der Kanal dessen Datenpunkte verwendet werden solln.<br>
Er besteht aus der Serien- sowie der Kanalnummer.<br>
Eine Autovervollständigung hilft bei der Auswahl anhand der Klarnamen.</p> <h3 id="typ"><a href="#typ" aria-hidden="true" class="header-anchor">#</a> Typ</h3> <p>Hier wird der Typ des Display-Devices gewählt.</p> <h3 id="farbe-zeile-icon"><a href="#farbe-zeile-icon" aria-hidden="true" class="header-anchor">#</a> Farbe / Zeile / Icon</h3> <p>Je nach Device-Typ stehen verschiedene Optionen zur Darstellung des Inhalts zur Verfügung.</p> <h3 id="led-ton-wiederholungen-pause"><a href="#led-ton-wiederholungen-pause" aria-hidden="true" class="header-anchor">#</a> LED / Ton / Wiederholungen / Pause</h3> <p>Einige Devices besitzen LEDs und Piepser. Über diese Optionen können diese angesteuert werden.
Die Wiederholungen sowie Pause-Zeiten werden in Sekunden angegeben.</p> <h2 id="konfiguration-durch-msg"><a href="#konfiguration-durch-msg" aria-hidden="true" class="header-anchor">#</a> Konfiguration durch <code>msg</code></h2> <p>Die anzuzeigenden Werte können über <code>msg</code>-Properties gesetzt werden:</p> <ul><li><code>msg.lineX</code>: Text der <code>X</code>ten Zeile</li> <li><code>msg.iconX</code>: Icon der <code>X</code>ten Zeile</li> <li><code>msg.colorX</code>: Farbe der <code>X</code>ten Zeile</li></ul> <h1 id="ccu-sysvar-node"><a href="#ccu-sysvar-node" aria-hidden="true" class="header-anchor">#</a> ccu sysvar node</h1> <p>Rega-Systemvariablen setzen und Wertänderungen empfangen.</p> <p><img src="images/node-sysvar.png" alt=""></p> <h1 id="ccu-program-node"><a href="#ccu-program-node" aria-hidden="true" class="header-anchor">#</a> ccu program node</h1> <p>Rega-Programme starten, aktivieren oder deaktivieren. Gibt den Zeitpunkt der letzten Programmausführung aus.
<img src="/assets/img/program-node-settings.9527209a.png" alt="program node settings"></p> <h2 id="input-3"><a href="#input-3" aria-hidden="true" class="header-anchor">#</a> Input</h2> <p>Ist <code>msg.payload</code> vom Typ <code>boolean</code> wird das Programm bei <code>true</code> aktiviert und ausgeführt und bei <code>false</code> deaktiviert.</p> <p>In allen anderen Fällen (Payload ist z.B. <code>exec</code>) wird das Programm ausgeführt.</p> <h2 id="output-4"><a href="#output-4" aria-hidden="true" class="header-anchor">#</a> Output</h2> <p>Im Payload ist der Zeitstempel der letzten Programmausführung (Attribut <code>ts</code>) sowie die Information ob ein Programm aktiv oder inaktiv ist (Attribut <code>active</code>) enthalten.</p> <h2 id="attribute-6"><a href="#attribute-6" aria-hidden="true" class="header-anchor">#</a> Attribute</h2> <h3 id="ccu-5"><a href="#ccu-5" aria-hidden="true" class="header-anchor">#</a> CCU</h3> <p>Unter CCU wird die zu verwendende CCU-Konfiguration angegeben.</p> <h3 id="topic-4"><a href="#topic-4" aria-hidden="true" class="header-anchor">#</a> Topic</h3> <p>Der Wert von <code>msg.topic</code> für den Output der Node.</p> <h3 id="name-4"><a href="#name-4" aria-hidden="true" class="header-anchor">#</a> Name</h3> <p>Der Name des ReGaHSS Programms.
Wird kein Programm ausgewählt kann der Programm-Name über <code>msg.topic</code> übergeben werden.</p> <h1 id="ccu-script-node"><a href="#ccu-script-node" aria-hidden="true" class="header-anchor">#</a> ccu script node</h1> <p>Übergibt ein in RedMatic definiertes Script an ReGaHSS führt dieses aus und gibt die Rückgabe an <em>Output</em> der Node zurück.</p> <p><img src="/assets/img/script-node-settings.e4a44dcb.png" alt="script node settings"></p> <h2 id="attribute-7"><a href="#attribute-7" aria-hidden="true" class="header-anchor">#</a> Attribute</h2> <h3 id="ccu-6"><a href="#ccu-6" aria-hidden="true" class="header-anchor">#</a> CCU</h3> <p>Die zu verwendende CCU-Konfiguration.</p> <h3 id="topic-5"><a href="#topic-5" aria-hidden="true" class="header-anchor">#</a> Topic</h3> <p>Das Topic ist an <a href="https://de.wikipedia.org/wiki/MQTT" target="_blank" rel="noopener noreferrer">MQTT<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> angelehnt und dient zu späteren
Identifizierung der Rückgabe.</p> <h3 id="script"><a href="#script" aria-hidden="true" class="header-anchor">#</a> Script</h3> <p>Das ReGaHSS Script welches ausgeführt werden soll.
Das Feld kann leer gelassen werden um <code>msg.payload</code> aus dem Input-Objekt als Script zu verwenden.</p> <h3 id="name-5"><a href="#name-5" aria-hidden="true" class="header-anchor">#</a> Name</h3> <p>Der Name dient zur Beschriftung des Node im Flow.</p> <h1 id="ccu-switch-node"><a href="#ccu-switch-node" aria-hidden="true" class="header-anchor">#</a> ccu switch node</h1> <p>Der <code>ccu switch</code> Node verhält sich ähnlich wie der <a href="https://nodered.org/docs/user-guide/nodes#switch" target="_blank" rel="noopener noreferrer">switch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Node von Node-RED. Er leitet eine Nachricht abhängig von einem Zustand eines Aktors oder einer Systemvariablen weiter, wahlweise auch je nach Zustand an unterschiedliche Ausgänge.</p> <p>Beispiel: Ein Tastendruck erzeugt eine Nachricht. Ist von Kanal <code>Gang Licht</code> der Datenpunkt <code>STATE</code> gleich <code>true</code> (also Licht ist an), fahre an Output 1 fort, ansonsten Output 2. An Output 1 hängt eine ein <a href="https://nodered.org/docs/user-guide/nodes#change" target="_blank" rel="noopener noreferrer">change<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> Node welche den Payload auf <code>false</code> ändert. An Output 2 ein <code>change</code> Node der den Payload auf <code>true</code> ändert. Beide Nodes sind mit einem <a href="/wiki/value.html">value</a> Node verbunden welche den <code>STATE</code> vom Kanal <code>Gang Licht</code> setzt. Nun hat man einen Taster geschaffen welcher das Licht im Gang aus bzw. ein schaltet.</p> <p><img src="/assets/img/switch-node-example.5317e685.png" alt="switch example"></p> <h2 id="attribute-8"><a href="#attribute-8" aria-hidden="true" class="header-anchor">#</a> Attribute</h2> <h3 id="name-6"><a href="#name-6" aria-hidden="true" class="header-anchor">#</a> Name</h3> <p>Der Name dient zur Beschriftung des Node im Flow.</p> <h3 id="ccu-7"><a href="#ccu-7" aria-hidden="true" class="header-anchor">#</a> CCU</h3> <p>Die zu verwendende CCU-Konfiguration.</p> <h3 id="interface-4"><a href="#interface-4" aria-hidden="true" class="header-anchor">#</a> Interface</h3> <p>Hier wird das Interface gewählt, welches das Event erzeugt hat.</p> <h3 id="channel-4"><a href="#channel-4" aria-hidden="true" class="header-anchor">#</a> Channel</h3> <p>Der Kanal von dem der Datenpunkte abgefragt werden solln.<br>
Eine Autovervollständigung hilft bei der Auswahl anhand der Klarnamen.</p> <h3 id="datapoint-3"><a href="#datapoint-3" aria-hidden="true" class="header-anchor">#</a> Datapoint</h3> <p>Der Datenpunkt des Kanals, auch hier wird über eine Autovervollständigung die Auswahl vereinfacht.</p> <h3 id="property"><a href="#property" aria-hidden="true" class="header-anchor">#</a> Property</h3> <p>Hier wird das spezifische Property des Datenpunkts ausgewählt:</p> <ul><li><code>value</code>: Der reale Wert</li> <li><code>ts</code>: Der aktuelle Timestamp</li> <li><code>lc</code>: Der Timestamp der letzten Aktualisierung</li> <li><code>working</code>: Gibt an, ob sich der Aktor gerade im Schaltvorgang befindet</li> <li><code>direction</code>: Gibt die Richtung an in der sich z.B. ein Rollladen im Moment bewegt</li></ul> <h3 id="regeln"><a href="#regeln" aria-hidden="true" class="header-anchor">#</a> Regeln</h3> <p>Für jeden Output wird Bedingung definiert.</p> <p>Der Operator (z.B. <code>==</code> oder <code>&lt;=</code>) gibt die Art des Vergleichs an. Je nach Operator wird daneben der Vergleichswert gewählt. Er kann aus verschiedenen Quellen kommen, zum Beispiel über Eingabe als String oder Number, aus einem anderen Property von <code>msg</code>, aus einem <a href="https://nodered.org/docs/user-guide/context" target="_blank" rel="noopener noreferrer">Context<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> und weiteren.</p> <p><img src="/assets/img/switch-node-rules.1518490b.png" alt="switch node rules"></p> <p>Es können beliebig viele Rules und damit Outputs angelegt werden.</p> <p>Verahlten des Matchers:</p> <ul><li><code>checking all rules</code>: Es werden Events an allen Outputs erzeugt, an denen der Vergleich zutrifft</li> <li><code>stopping after first match</code>: Der erste zutreffende Vergleich erzeugt ein Event, es werden keine weiteren Prüfungen durchlaufen.</li></ul> <h1 id="ccu-get-value-node"><a href="#ccu-get-value-node" aria-hidden="true" class="header-anchor">#</a> ccu get value node</h1> <p>Dieser Node gibt beim Eintreffen einer Beliebigen Nachricht den zwischengespeicherten Zustand eines Datenpunkt der CCU aus.
Das Ausgeben des Werts findet also nicht statt wenn sich der Wert ändert, sondern
wenn er innerhalb eines Flows benötigt wird.</p> <p><img src="/assets/img/getvalue-node-settings.63edc1ac.png" alt="get value node example"></p> <h2 id="attribute-9"><a href="#attribute-9" aria-hidden="true" class="header-anchor">#</a> Attribute</h2> <h3 id="ccu-8"><a href="#ccu-8" aria-hidden="true" class="header-anchor">#</a> CCU</h3> <p>Unter CCU wird die zu verwendende CCU-Konfiguration angegeben.</p> <h3 id="interface-5"><a href="#interface-5" aria-hidden="true" class="header-anchor">#</a> Interface</h3> <p>Hier wird das Interface gewählt, welches den gewünschten Datenpunkt enthält.</p> <h3 id="channel-5"><a href="#channel-5" aria-hidden="true" class="header-anchor">#</a> Channel</h3> <p>Der Kanal dessen Datenpunkte verwendet werden solln.<br>
Er besteht aus der Serien- sowie der Kanalnummer.<br>
Eine Autovervollständigung hilft bei der Auswahl anhand der Klarnamen.</p> <h3 id="datapoint-4"><a href="#datapoint-4" aria-hidden="true" class="header-anchor">#</a> Datapoint</h3> <p>Der Datenpunkt des Kanals, auch hier wird über eine Autovervollständigung die Auswahl vereinfacht.</p> <h3 id="property-2"><a href="#property-2" aria-hidden="true" class="header-anchor">#</a> Property</h3> <p>Hier wird das spezifische Property des Datenpunkts ausgewählt:</p> <ul><li><code>value</code>: Der reale Wert</li> <li><code>ts</code>: Der aktuelle Timestamp</li> <li><code>lc</code>: Der Timestamp der letzten Aktualisierung</li> <li><code>working</code>: Gibt an, ob sich der Aktor gerade im Schaltvorgang befindet</li> <li><code>direction</code>: Gibt die Richtung an in der sich z.B. ein Rollladen im Moment bewegt</li> <li><code>all properties as object</code>: Es werden alle Attribute eines Datenpunktes als Objekt zurückgegeben</li></ul> <h3 id="set-property"><a href="#set-property" aria-hidden="true" class="header-anchor">#</a> Set Property</h3> <p>Mit dieser Einstellung kann ausgewählt werden in welche Property der ausgegebenen Nachricht das Ergebnis gesetzt wird. Alternativ kann auch eine <a href="https://nodered.org/docs/user-guide/context" target="_blank" rel="noopener noreferrer">Context<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
Variable gesetzt werden.</p> <p>Soll beispielsweise <code>msg.payload</code> vom Input-Event erhalten werden, kann über <code>msg.</code> eine
zusätzliche Property angegeben werden welche dem <code>msg</code> Objekt hinzugefügt wird.</p> <h1 id="ccu-poll-node"><a href="#ccu-poll-node" aria-hidden="true" class="header-anchor">#</a> ccu poll node</h1> <p>Sofortige Abfrage von Rega-Systemvariablen und -Programmen auslösen.</p> <p>Dieser Node ist dazu vorgesehen die Änderung von Systemvariablen mit möglichst geringer Verzögerung zu empfangen. Hierzu kann man ein Programm auf der CCU anlegen, welches bei Änderung von Variablen einen virtuellen Taster betätigt. In Node-RED wird dann z.B. über den <a href="#ccu-value-node">value</a> oder <a href="#rpc-event-node">rpc event</a> Node auf diese &quot;Tastenbetätigung&quot; reagiert und den poll Node aufruft. Dies führt zum sofortigen Aktualisieren der geänderten Werte von der CCU.</p> <p><img src="/assets/img/poll-node-example.186bb525.png" alt="poll example"></p> <h1 id="attribute-10"><a href="#attribute-10" aria-hidden="true" class="header-anchor">#</a> Attribute</h1> <h2 id="topic-6"><a href="#topic-6" aria-hidden="true" class="header-anchor">#</a> topic</h2> <p>Einige der CCU Nodes erlauben es in ihrer Topic-Konfiguration Platzhalter wie z.B. <code>${channelName}</code> zu verwenden. Dadurch ist es möglich das Topic dynamisch aus einem eingehenden Event zu erzeugen. Im den Nodes <em>RPC</em> und <em>Value</em> stehen dafür alle Attribute zur Verfügung die auch zum Filtern von Events konfiguriert werden können.</p></div> <!----> <!----> </div></div><div class="global-ui"></div></div>
    <script src="/assets/js/2.c7572858.js" defer></script><script src="/assets/js/5.057cfdf0.js" defer></script><script src="/assets/js/3.fefb63a3.js" defer></script><script src="/assets/js/app.6e49cc76.js" defer></script>
  </body>
</html>
